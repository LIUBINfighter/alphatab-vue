# 全局暗色主题需求文档

我们想为 AlphaTab 曲谱网站加上一个**全局暗色主题模式**，目标是让用户可以根据环境或个人偏好，在浅色和深色之间切换。

这个暗色模式要做到：

* 网站页面（背景、字体、按钮等）能整体变暗，适配深色环境；
* AlphaTab 曲谱显示区域也要能适应暗色，不然界面会很突兀；
* 默认跟随操作系统的主题（例如 macOS 的深色模式），用户也可以手动切换；
* 切换时要自然，不要闪屏或打断用户使用；
* 所有的设置可以保存，下次打开仍然生效。

你需要做的主要包括：

1. **搭好主题切换功能**：监听系统暗色模式，提供一个开关，能手动切换并记住用户选择。
2. **把页面样式做成可变的**：比如通过 CSS 变量，控制背景、字体颜色等。
3. **让 AlphaTab 曲谱也变暗**：如果 AlphaTab 支持设置颜色，就用 API 调整；不支持的话，就尝试改它渲染出来的 SVG 或样式表。
4. **保持交互顺畅**：切换时别让曲谱闪屏，确保体验平滑。
5. **后续好维护**：样式结构要清晰，方便以后扩展“自定义主题”。

如果你发现 AlphaTab 本身不支持深色样式，那请主动想办法（比如注入 SVG 样式或重新挂载 CSS），同时也反馈回来我们是否需要提 issue 或 fork 定制。整个开发过程请用 Markdown 格式记录。
